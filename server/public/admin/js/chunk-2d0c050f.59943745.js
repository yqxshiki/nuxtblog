(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c050f"],{"40eb":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"UserEdit"}},[s("myloading",{attrs:{loading:t.loading}},[s("h1",[t._v(t._s(t.id?"编辑":"新建")+"轮播图")]),s("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save(e)}}},[s("el-form-item",{attrs:{label:"名称"}},[s("el-input",{model:{value:t.model.title,callback:function(e){t.$set(t.model,"title",e)},expression:"model.title"}})],1),s("el-form-item",{attrs:{label:"图片"}},[s("el-button",{attrs:{size:"smali"},on:{click:function(e){return t.model.items.push({})}}},[s("i",{staticClass:"el-icon-plus"}),t._v(" 添加图片 ")]),s("el-row",{staticStyle:{"flex-wrap":"wrap","margin-top":"0.5rem"},attrs:{type:"flex"}},t._l(t.model.items,(function(e,i){return s("el-col",{key:i,attrs:{md:24}},[s("el-form-item",{attrs:{label:"图片信息"}},[s("el-input",{model:{value:e.image,callback:function(s){t.$set(e,"image",s)},expression:"item.image"}})],1),s("el-form-item",{staticStyle:{"margin-top":"0.5rem"},attrs:{label:"图片上传"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadUrl,"show-file-list":!1,"on-success":function(s){return t.$set(e,"url",s.url)},headers:t.getAuthHeaders}},[e.url?s("img",{staticClass:"avatar",attrs:{src:e.url}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),s("el-form-item",[s("el-button",{attrs:{size:"smali",type:"danger"},on:{click:function(e){return t.model.items.splice(i,1)}}},[t._v("删除")])],1)],1)})),1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary","native-type":"submit"}},[t._v("保存")])],1)],1)],1)],1)},a=[],n=(s("d3b7"),s("96cf"),{props:{id:{}},data:function(){return{model:{title:null,items:[]},html:"",loading:!0}},methods:{save:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:if(null!=this.model.title){t.next=4;break}this.$message({message:"图片信息不能为空",type:"warning"}),t.next=15;break;case 4:if(!this.id){t.next=10;break}return t.next=7,regeneratorRuntime.awrap(this.$axios.post("/rest/imgs/resive/".concat(this.id),this.model));case 7:t.sent,t.next=13;break;case 10:return t.next=12,regeneratorRuntime.awrap(this.$axios.post("/rest/imgs/create",this.model));case 12:t.sent;case 13:this.$router.push("/img/list"),this.$message({type:"success",message:"保存成功"});case 15:case"end":return t.stop()}}),null,this)},fetch:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$axios.get("/rest/imgs/details/".concat(this.id)));case 2:t=e.sent,this.model=t.data;case 4:case"end":return e.stop()}}),null,this)},isloading:function(){void 0!=this.model.items&&(this.loading=!1)}},created:function(){var t=this;this.id&&this.fetch(),this.id?setInterval((function(){t.isloading()}),600):this.loading=!1}}),r=n,l=s("2877"),o=Object(l["a"])(r,i,a,!1,null,null,null);e["default"]=o.exports}}]);
//# sourceMappingURL=chunk-2d0c050f.59943745.js.map